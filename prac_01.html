<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DBMS Fundamentals Visualizer</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f9f9f9;
  }
  h1, h2 {
    text-align: center;
  }
  section {
    margin: 40px auto;
    max-width: 900px;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
  }
  /* Three-Schema Architecture */
  .schema-container {
    display: flex;
    justify-content: space-around;
    margin-top: 20px;
  }
  .schema-layer {
    width: 28%;
    background: #e2f3fb;
    border-radius: 8px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .schema-layer:hover, .schema-layer.active {
    background: #a5d8ff;
  }
  .layer-description {
    margin-top: 15px;
    font-size: 0.9em;
    color: #333;
  }

  /* Schema vs Instance */
  .example-container {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
  }
  .box {
    width: 48%;
    background-color: #eef7ff;
    border-radius: 8px;
    padding: 15px;
    box-sizing: border-box;
  }
  .box h3 {
    text-align: center;
    margin-bottom: 10px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    border: 1px solid #bbb;
    padding: 8px;
    text-align: center;
  }
  input[type="text"] {
    width: 90%;
    padding: 5px;
    margin: 5px 0;
  }
  button {
    display: block;
    margin: 10px auto 0;
    padding: 8px 14px;
    background-color: #3399ff;
    border: none;
    border-radius: 4px;
    color: white;
    cursor: pointer;
    font-weight: bold;
  }
  button:hover {
    background-color: #1c7ed6;
  }

  /* DBMS Benefits Cards */
  .cards-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    margin-top: 20px;
  }
  .card {
    background: #fff5f5;
    width: 28%;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgb(0 0 0 / 0.1);
    margin-bottom: 20px;
    padding: 20px;
    transition: transform 0.3s ease;
    cursor: pointer;
  }
  .card:hover {
    transform: scale(1.05);
    background: #ffd6d6;
  }
  .card h3 {
    margin-bottom: 10px;
  }
  .card p {
    font-size: 0.9em;
    color: #444;
  }

</style>
</head>
<body>

<h1>DBMS Fundamentals Visualizer</h1>

<!-- Three-Schema Architecture -->
<section aria-labelledby="three-schema-title">
  <h2 id="three-schema-title">Three-Schema Architecture</h2>
  <div class="schema-container" role="list">
    <div class="schema-layer" tabindex="0" role="listitem" id="external-layer">
      <h3>External Schema</h3>
      <div class="layer-description" id="external-desc">
        User views and interfaces.
      </div>
    </div>
    <div class="schema-layer" tabindex="0" role="listitem" id="conceptual-layer">
      <h3>Conceptual Schema</h3>
      <div class="layer-description" id="conceptual-desc">
        Community view - integrated database structure.
      </div>
    </div>
    <div class="schema-layer" tabindex="0" role="listitem" id="internal-layer">
      <h3>Internal Schema</h3>
      <div class="layer-description" id="internal-desc">
        Physical storage details.
      </div>
    </div>
  </div>
  <p style="margin-top:20px; text-align:center; font-style: italic; color: #666;" id="schema-message">
    Click a layer to learn more.
  </p>
</section>

<!-- Schema vs Instance -->
<section aria-labelledby="schema-instance-title">
  <h2 id="schema-instance-title">Schema vs Instance</h2>
  <div class="example-container">
    <div class="box" aria-live="polite">
      <h3>Schema (Structure)</h3>
      <p>This defines the table structure, columns, and data types.</p>
      <table aria-label="Student Table Structure">
        <thead>
          <tr><th>Column Name</th><th>Data Type</th></tr>
        </thead>
        <tbody>
          <tr><td>StudentID</td><td>Integer</td></tr>
          <tr><td>Name</td><td>Varchar(30)</td></tr>
          <tr><td>Age</td><td>Integer</td></tr>
          <tr><td>Major</td><td>Varchar(20)</td></tr>
        </tbody>
      </table>
    </div>

    <div class="box" aria-live="polite">
      <h3>Instance (Data)</h3>
      <p>Current data in the table instance. Add student data below:</p>
      <form id="student-form" aria-label="Add student instance data">
        <input type="text" id="studentID" name="studentID" placeholder="Student ID (integer)" required pattern="\d+" />
        <input type="text" id="name" name="name" placeholder="Name" required />
        <input type="text" id="age" name="age" placeholder="Age (integer)" required pattern="\d+" />
        <input type="text" id="major" name="major" placeholder="Major" required />
        <button type="submit">Add Student</button>
      </form>
      <table aria-label="Student Instance Data" id="instance-table" style="margin-top: 15px;">
        <thead>
          <tr><th>StudentID</th><th>Name</th><th>Age</th><th>Major</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>

<!-- DBMS Advantages -->
<section aria-labelledby="dbms-adv-title">
  <h2 id="dbms-adv-title">Advantages of DBMS over Traditional File Systems</h2>
  <div class="cards-container" role="list">
    <div class="card" role="listitem" tabindex="0">
      <h3>Data Independence</h3>
      <p>DBMS separates data structure from application programs, allowing easier updates without affecting programs.</p>
    </div>
    <div class="card" role="listitem" tabindex="0">
      <h3>Reduced Data Redundancy</h3>
      <p>Centralized management reduces duplication of data across applications.</p>
    </div>
    <div class="card" role="listitem" tabindex="0">
      <h3>Improved Data Security</h3>
      <p>DBMS provides access controls and security mechanisms to protect data.</p>
    </div>
    <div class="card" role="listitem" tabindex="0">
      <h3>Data Consistency</h3>
      <p>DBMS enforces integrity constraints ensuring consistent data state.</p>
    </div>
    <div class="card" role="listitem" tabindex="0">
      <h3>Concurrent Access</h3>
      <p>Multiple users can access the database simultaneously without conflicts.</p>
    </div>
    <div class="card" role="listitem" tabindex="0">
      <h3>Backup and Recovery</h3>
      <p>DBMS supports automated data backup and recovery mechanisms.</p>
    </div>
  </div>
</section>

<script>
  // Three-Schema Architecture interactive details
  const schemaLayers = {
    'external-layer': 'The External Schema represents individual user views of the database. Each user sees a customized view, showing only data relevant to them.',
    'conceptual-layer': 'The Conceptual Schema represents the community view of the entire database, integrating all user views without physical details.',
    'internal-layer': 'The Internal Schema details how data is physically stored on storage media, including file formats, indexing, and storage optimization.'
  };

  const schemaMessage = document.getElementById('schema-message');
  Object.keys(schemaLayers).forEach(id => {
    const el = document.getElementById(id);
    el.addEventListener('click', () => {
      schemaMessage.textContent = schemaLayers[id];
      document.querySelectorAll('.schema-layer').forEach(layer => {
        layer.classList.remove('active');
      });
      el.classList.add('active');
    });
    el.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        el.click();
      }
    });
  });

  // Schema vs Instance student data
  const studentForm = document.getElementById('student-form');
  const instanceTableBody = document.querySelector('#instance-table tbody');

  studentForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const studentID = studentForm.studentID.value.trim();
    const name = studentForm.name.value.trim();
    const age = studentForm.age.value.trim();
    const major = studentForm.major.value.trim();

    if (!(studentID && name && age && major)) return;

    // Validate integer fields pattern (already via input pattern but double check)
    if (!/^\d+$/.test(studentID) || !/^\d+$/.test(age)) {
      alert('Student ID and Age must be integers.');
      return;
    }

    // Add a new row
    const newRow = document.createElement('tr');
    newRow.innerHTML = `<td>${studentID}</td><td>${name}</td><td>${age}</td><td>${major}</td>`;
    instanceTableBody.appendChild(newRow);

    // Reset form
    studentForm.reset();
  });
</script>

</body>
</html>
